{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import Throttle from 'lodash.throttle';\n\nlet formData = {};\nconst STORAGE_KEY = 'feedback-form-state';\nconst formRef = document.querySelector('.feedback-form');\n\nformRef.addEventListener('input', Throttle(onFormInputs, 500));\nformRef.addEventListener('submit', onFormSubmit);\n\nfillFormFields();\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  console.log(formData);\n  event.currentTarget.reset();\n  localStorage.removeItem(STORAGE_KEY);\n}\n\nfunction onFormInputs(event) {\n  formData[event.target.name] = event.target.value;\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction fillFormFields() {\n  const localeStorageData = localStorage.getItem(STORAGE_KEY);\n  if (localeStorageData === null) {\n    return;\n  }\n  try {\n    formData = JSON.parse(localeStorageData);\n  } catch (error) {\n    console.log(error);\n    return;\n  }\n  for (const [key, value] of Object.entries(formData)) {\n    formRef[key].value = value;\n  }\n}\n"],"names":["formData","STORAGE_KEY","formRef","Throttle","onFormInputs","onFormSubmit","fillFormFields","event","localeStorageData","error","key","value"],"mappings":"mIAEA,IAAIA,EAAW,CAAA,EACf,MAAMC,EAAc,sBACdC,EAAU,SAAS,cAAc,gBAAgB,EAEvDA,EAAQ,iBAAiB,QAASC,EAASC,EAAc,GAAG,CAAC,EAC7DF,EAAQ,iBAAiB,SAAUG,CAAY,EAE/CC,IAEA,SAASD,EAAaE,EAAO,CAC3BA,EAAM,eAAc,EACpB,QAAQ,IAAIP,CAAQ,EACpBO,EAAM,cAAc,QACpB,aAAa,WAAWN,CAAW,CACrC,CAEA,SAASG,EAAaG,EAAO,CAC3BP,EAASO,EAAM,OAAO,MAAQA,EAAM,OAAO,MAC3C,aAAa,QAAQN,EAAa,KAAK,UAAUD,CAAQ,CAAC,CAC5D,CAEA,SAASM,GAAiB,CACxB,MAAME,EAAoB,aAAa,QAAQP,CAAW,EAC1D,GAAIO,IAAsB,KAG1B,IAAI,CACFR,EAAW,KAAK,MAAMQ,CAAiB,CACxC,OAAQC,EAAP,CACA,QAAQ,IAAIA,CAAK,EACjB,MACD,CACD,SAAW,CAACC,EAAKC,CAAK,IAAK,OAAO,QAAQX,CAAQ,EAChDE,EAAQQ,GAAK,MAAQC,EAEzB"}